var d=(t,r,e)=>new Promise((s,a)=>{var u=o=>{try{l(e.next(o))}catch(m){a(m)}},c=o=>{try{l(e.throw(o))}catch(m){a(m)}},l=o=>o.done?s(o.value):Promise.resolve(o.value).then(u,c);l((e=e.apply(t,r)).next())});import{L as f}from"./leaflet-DlP-3Eo-.js";import{K as P}from"./bootstrap-DHvr56dL.js";import{w,B as h}from"../jse/index-index-BGdo5wjl.js";function p(t){const{theme:r}=P();return w(r,e=>{t&&t(e)},{immediate:!0}),{theme:r}}let n=null,i=null;const g=t=>t==="dark"?["hue:185deg","invert:100%"]:[];function U(t,r){const e=()=>{var c;n=f.map(t,r);const{theme:a}=p(),u=g(a.value);return i=(c=f.tileLayer)==null?void 0:c.colorFilter(r.tileLayerUrl||"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:r.tileLayerAttribution||"&copy; OpenStreetMap contributors",filter:u}),i.addTo(n),n};p(a=>{if(!n)return;const u=g(a);i&&(i==null||i.updateFilter(u))});function s(){n&&(n.remove(),n=null,i=null)}return h(()=>{s()}),{initMap:e}}const y={1:"Permission denied. Please allow location access.",2:"Location information is unavailable.",3:"The request to get location timed out.",UNSUPPORTED:"Geolocation is not supported by your browser."};function M(){return d(this,null,function*(){if(!navigator.geolocation)throw new Error(y.UNSUPPORTED);return new Promise((t,r)=>{navigator.geolocation.getCurrentPosition(e=>{t({lat:e.coords.latitude,lng:e.coords.longitude,accuracy:e.coords.accuracy})},e=>{const s=y[e.code]||"An unknown error occurred.";r(new Error(s))})})})}export{M as g,U as u};
