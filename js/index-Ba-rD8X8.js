var le=Object.defineProperty,oe=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var C=Math.pow,V=(i,l,a)=>l in i?le(i,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[l]=a,A=(i,l)=>{for(var a in l||(l={}))re.call(l,a)&&V(i,a,l[a]);if(U)for(var a of U(l))ne.call(l,a)&&V(i,a,l[a]);return i},q=(i,l)=>oe(i,se(l));import{h as j,k as $,l as Q,n as O,ao as ie,aa as ue,a as ce,o as H,j as ve,N as F,a7 as fe,w as me}from"./bootstrap-BmvKFSqj.js";import{B as de,r as pe,G as L}from"./index-D-SyJ_CH.js";import{t as be}from"./error-C2lGtWRH.js";import{d as R,y as Z,r as c,c as N,ac as he,A as G,v as x,f as P,E as ee,N as ye,h as D,n as k,u as w,l as W,e as te,F as I,P as we,w as X,ab as Se,L as ge,ad as ze,o as _e,m as Y,M as Ee,g as Te,k as Le,D as Ne,p as He}from"../jse/index-index-CWYGPAal.js";import{u as Pe}from"./index-BklicZuF.js";const K=Symbol("scrollbarContextKey"),ke=j({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Ce="Thumb",Re=R({__name:"thumb",props:ke,setup(i){const l=i,a=Z(K),s=Q("scrollbar");a||be(Ce,"can not inject scrollbar context");const u=c(),v=c(),d=c({}),p=c(!1);let m=!1,b=!1,o=ce?document.onselectstart:null;const t=N(()=>de[l.vertical?"vertical":"horizontal"]),r=N(()=>pe({size:l.size,move:l.move,bar:t.value})),f=N(()=>C(u.value[t.value.offset],2)/a.wrapElement[t.value.scrollSize]/l.ratio/v.value[t.value.offset]),h=n=>{var _;if(n.stopPropagation(),n.ctrlKey||[1,2].includes(n.button))return;(_=window.getSelection())==null||_.removeAllRanges(),g(n);const T=n.currentTarget;T&&(d.value[t.value.axis]=T[t.value.offset]-(n[t.value.client]-T.getBoundingClientRect()[t.value.direction]))},E=n=>{if(!v.value||!u.value||!a.wrapElement)return;const _=Math.abs(n.target.getBoundingClientRect()[t.value.direction]-n[t.value.client]),T=v.value[t.value.offset]/2,M=(_-T)*100*f.value/u.value[t.value.offset];a.wrapElement[t.value.scroll]=M*a.wrapElement[t.value.scrollSize]/100},g=n=>{n.stopImmediatePropagation(),m=!0,document.addEventListener("mousemove",S),document.addEventListener("mouseup",y),o=document.onselectstart,document.onselectstart=()=>!1},S=n=>{if(!u.value||!v.value||m===!1)return;const _=d.value[t.value.axis];if(!_)return;const T=(u.value.getBoundingClientRect()[t.value.direction]-n[t.value.client])*-1,M=v.value[t.value.offset]-_,ae=(T-M)*100*f.value/u.value[t.value.offset];a.wrapElement[t.value.scroll]=ae*a.wrapElement[t.value.scrollSize]/100},y=()=>{m=!1,d.value[t.value.axis]=0,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",y),e(),b&&(p.value=!1)},B=()=>{b=!1,p.value=!!l.size},z=()=>{b=!0,p.value=m};he(()=>{e(),document.removeEventListener("mouseup",y)});const e=()=>{document.onselectstart!==o&&(document.onselectstart=o)};return O(G(a,"scrollbarElement"),"mousemove",B),O(G(a,"scrollbarElement"),"mouseleave",z),(n,_)=>(P(),x(ue,{name:w(s).b("fade"),persisted:""},{default:ee(()=>[ye(D("div",{ref_key:"instance",ref:u,class:k([w(s).e("bar"),w(s).is(w(t).key)]),onMousedown:E},[D("div",{ref_key:"thumb",ref:v,class:k(w(s).e("thumb")),style:W(w(r)),onMousedown:h},null,38)],34),[[ie,n.always||p.value]])]),_:1},8,["name"]))}});var J=$(Re,[["__file","thumb.vue"]]);const Be=j({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Me=R({__name:"bar",props:Be,setup(i,{expose:l}){const a=i,s=Z(K),u=c(0),v=c(0),d=c(""),p=c(""),m=c(1),b=c(1);return l({handleScroll:r=>{if(r){const f=r.offsetHeight-L,h=r.offsetWidth-L;v.value=r.scrollTop*100/f*m.value,u.value=r.scrollLeft*100/h*b.value}},update:()=>{const r=s==null?void 0:s.wrapElement;if(!r)return;const f=r.offsetHeight-L,h=r.offsetWidth-L,E=C(f,2)/r.scrollHeight,g=C(h,2)/r.scrollWidth,S=Math.max(E,a.minSize),y=Math.max(g,a.minSize);m.value=E/(f-E)/(S/(f-S)),b.value=g/(h-g)/(y/(h-y)),p.value=S+L<f?`${S}px`:"",d.value=y+L<h?`${y}px`:""}}),(r,f)=>(P(),te(we,null,[I(J,{move:u.value,ratio:b.value,size:d.value,always:r.always},null,8,["move","ratio","size","always"]),I(J,{move:v.value,ratio:m.value,size:p.value,vertical:"",always:r.always},null,8,["move","ratio","size","always"])],64))}});var Ae=$(Me,[["__file","bar.vue"]]);const Oe=j(A({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:ve([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String},Pe(["ariaLabel","ariaOrientation"]))),xe={scroll:({scrollTop:i,scrollLeft:l})=>[i,l].every(H)},De="ElScrollbar",We=R({name:De}),je=R(q(A({},We),{props:Oe,emits:xe,setup(i,{expose:l,emit:a}){const s=i,u=Q("scrollbar");let v,d,p=0,m=0;const b=c(),o=c(),t=c(),r=c(),f=N(()=>{const e={};return s.height&&(e.height=F(s.height)),s.maxHeight&&(e.maxHeight=F(s.maxHeight)),[s.wrapStyle,e]}),h=N(()=>[s.wrapClass,u.e("wrap"),{[u.em("wrap","hidden-default")]:!s.native}]),E=N(()=>[u.e("view"),s.viewClass]),g=()=>{var e;o.value&&((e=r.value)==null||e.handleScroll(o.value),p=o.value.scrollTop,m=o.value.scrollLeft,a("scroll",{scrollTop:o.value.scrollTop,scrollLeft:o.value.scrollLeft}))};function S(e,n){He(e)?o.value.scrollTo(e):H(e)&&H(n)&&o.value.scrollTo(e,n)}const y=e=>{H(e)&&(o.value.scrollTop=e)},B=e=>{H(e)&&(o.value.scrollLeft=e)},z=()=>{var e;(e=r.value)==null||e.update()};return X(()=>s.noresize,e=>{e?(v==null||v(),d==null||d()):({stop:v}=fe(t,z),d=O("resize",z))},{immediate:!0}),X(()=>[s.maxHeight,s.height],()=>{s.native||Y(()=>{var e;z(),o.value&&((e=r.value)==null||e.handleScroll(o.value))})}),Se(K,ge({scrollbarElement:b,wrapElement:o})),ze(()=>{o.value&&(o.value.scrollTop=p,o.value.scrollLeft=m)}),_e(()=>{s.native||Y(()=>{z()})}),Ee(()=>z()),l({wrapRef:o,update:z,scrollTo:S,setScrollTop:y,setScrollLeft:B,handleScroll:g}),(e,n)=>(P(),te("div",{ref_key:"scrollbarRef",ref:b,class:k(w(u).b())},[D("div",{ref_key:"wrapRef",ref:o,class:k(w(h)),style:W(w(f)),tabindex:e.tabindex,onScroll:g},[(P(),x(Ne(e.tag),{id:e.id,ref_key:"resizeRef",ref:t,class:k(w(E)),style:W(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:ee(()=>[Le(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),e.native?Te("v-if",!0):(P(),x(Ae,{key:0,ref_key:"barRef",ref:r,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}}));var $e=$(je,[["__file","scrollbar.vue"]]);const Ie=me($e);export{Ie as E};
