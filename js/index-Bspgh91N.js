var ee=Object.defineProperty,ae=Object.defineProperties;var ie=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var L=(i,c,n)=>c in i?ee(i,c,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[c]=n,S=(i,c)=>{for(var n in c||(c={}))te.call(c,n)&&L(i,n,c[n]);if(O)for(var n of O(c))ne.call(c,n)&&L(i,n,c[n]);return i},U=(i,c)=>ae(i,ie(c));import{K as se,L as V,o as E,h as oe,j as le,M as w,l as ce,N as re,t as ue,E as m,O as de,A as ve,k as fe,w as pe}from"./bootstrap-D_tfqUKa.js";import{I as B,C as A,U as z,u as me}from"./index-CMrTI9dD.js";import{q as T,d as G,c as f,r as C,w as $,o as he,e as p,f as t,h as N,g as u,u as a,n as v,v as d,E as h,D as b,t as P,k as j,F as ye,l as be,m as ke,U as q}from"../jse/index-index-D3kXd9GM.js";import{u as Ie,a as ge}from"./use-form-item-Dl8cCtch.js";import{u as we,b as Ve}from"./use-form-common-props-D7VXIJH5.js";import{t as Se,d as Ee}from"./error-RzLJJULZ.js";const Te=i=>["",...se].includes(i),Ce=oe(S({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Te},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:w},activeActionIcon:{type:w},activeIcon:{type:w},inactiveIcon:{type:w},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:le(Function)},id:String,tabindex:{type:[String,Number]}},me(["ariaLabel"]))),Ne={[z]:i=>V(i)||T(i)||E(i),[A]:i=>V(i)||T(i)||E(i),[B]:i=>V(i)||T(i)||E(i)},H="ElSwitch",Pe=G({name:H}),Be=G(U(S({},Pe),{props:Ce,emits:Ne,setup(i,{expose:c,emit:n}){const o=i,{formItem:k}=Ie(),R=we(),s=ce("switch"),{inputId:W}=ge(o,{formItemContext:k}),I=Ve(f(()=>o.loading)),D=C(o.modelValue!==!1),y=C(),J=C(),Q=f(()=>[s.b(),s.m(R.value),s.is("disabled",I.value),s.is("checked",l.value)]),X=f(()=>[s.e("label"),s.em("label","left"),s.is("active",!l.value)]),Y=f(()=>[s.e("label"),s.em("label","right"),s.is("active",l.value)]),Z=f(()=>({width:re(o.width)}));$(()=>o.modelValue,()=>{D.value=!0});const K=f(()=>D.value?o.modelValue:!1),l=f(()=>K.value===o.activeValue);[o.activeValue,o.inactiveValue].includes(K.value)||(n(z,o.inactiveValue),n(A,o.inactiveValue),n(B,o.inactiveValue)),$(l,e=>{var r;y.value.checked=e,o.validateEvent&&((r=k==null?void 0:k.validate)==null||r.call(k,"change").catch(x=>Ee()))});const g=()=>{const e=l.value?o.inactiveValue:o.activeValue;n(z,e),n(A,e),n(B,e),ke(()=>{y.value.checked=l.value})},F=()=>{if(I.value)return;const{beforeChange:e}=o;if(!e){g();return}const r=e();[q(r),V(r)].includes(!0)||Se(H,"beforeChange must return type `Promise<boolean>` or `boolean`"),q(r)?r.then(M=>{M&&g()}).catch(M=>{}):r&&g()},_=()=>{var e,r;(r=(e=y.value)==null?void 0:e.focus)==null||r.call(e)};return he(()=>{y.value.checked=l.value}),c({focus:_,checked:l}),(e,r)=>(t(),p("div",{class:v(a(Q)),onClick:ve(F,["prevent"])},[N("input",{id:a(W),ref_key:"input",ref:y,class:v(a(s).e("input")),type:"checkbox",role:"switch","aria-checked":a(l),"aria-disabled":a(I),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(I),tabindex:e.tabindex,onChange:g,onKeydown:ue(F,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(t(),p("span",{key:0,class:v(a(X))},[e.inactiveIcon?(t(),d(a(m),{key:0},{default:h(()=>[(t(),d(b(e.inactiveIcon)))]),_:1})):u("v-if",!0),!e.inactiveIcon&&e.inactiveText?(t(),p("span",{key:1,"aria-hidden":a(l)},P(e.inactiveText),9,["aria-hidden"])):u("v-if",!0)],2)):u("v-if",!0),N("span",{ref_key:"core",ref:J,class:v(a(s).e("core")),style:be(a(Z))},[e.inlinePrompt?(t(),p("div",{key:0,class:v(a(s).e("inner"))},[e.activeIcon||e.inactiveIcon?(t(),d(a(m),{key:0,class:v(a(s).is("icon"))},{default:h(()=>[(t(),d(b(a(l)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(t(),p("span",{key:1,class:v(a(s).is("text")),"aria-hidden":!a(l)},P(a(l)?e.activeText:e.inactiveText),11,["aria-hidden"])):u("v-if",!0)],2)):u("v-if",!0),N("div",{class:v(a(s).e("action"))},[e.loading?(t(),d(a(m),{key:0,class:v(a(s).is("loading"))},{default:h(()=>[ye(a(de))]),_:1},8,["class"])):a(l)?j(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(t(),d(a(m),{key:0},{default:h(()=>[(t(),d(b(e.activeActionIcon)))]),_:1})):u("v-if",!0)]):a(l)?u("v-if",!0):j(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(t(),d(a(m),{key:0},{default:h(()=>[(t(),d(b(e.inactiveActionIcon)))]),_:1})):u("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(t(),p("span",{key:1,class:v(a(Y))},[e.activeIcon?(t(),d(a(m),{key:0},{default:h(()=>[(t(),d(b(e.activeIcon)))]),_:1})):u("v-if",!0),!e.activeIcon&&e.activeText?(t(),p("span",{key:1,"aria-hidden":!a(l)},P(e.activeText),9,["aria-hidden"])):u("v-if",!0)],2)):u("v-if",!0)],10,["onClick"]))}}));var Ae=fe(Be,[["__file","switch.vue"]]);const Ue=pe(Ae);export{Ue as ElSwitch,Ue as default,Ne as switchEmits,Ce as switchProps};
