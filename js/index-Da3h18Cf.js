var Pe=Object.defineProperty,Ae=Object.defineProperties;var Ce=Object.getOwnPropertyDescriptors;var J=Object.getOwnPropertySymbols;var Re=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var Q=(a,s,t)=>s in a?Pe(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,N=(a,s)=>{for(var t in s||(s={}))Re.call(s,t)&&Q(a,t,s[t]);if(J)for(var t of J(s))Ee.call(s,t)&&Q(a,t,s[t]);return a},L=(a,s)=>Ae(a,Ce(s));import{d as ne,y as we,c as S,r as ae,e as Oe,g as xe,f as Ve,h,n as f,u as r,t as O,F as x,ap as R,i as H,ab as Me,T as Ie}from"../jse/index-index-CrS4t91a.js";import{t as Fe,u as ye,a as Ue,T as W,b as Ne,c as Le,d as He,D as Be,C as Ke,e as je}from"./panel-time-pick-CzGjpUlO.js";import{l as Un,n as Nn,f as Ln,g as Hn,h as Bn,i as Kn,j as jn,k as qn,m as $n,p as Gn,r as Yn,q as zn,s as Zn,o as Jn,v as Qn}from"./panel-time-pick-CzGjpUlO.js";import{h as qe,j as $e,k as Ge,r as Ye,l as X,ar as ze,w as Ze}from"./bootstrap-C40v8jx9.js";import{b as Je,U as ee}from"./index-IruD9EJv.js";import{b as Qe,i as We}from"./isArrayLikeObject-Bw8JqMzS.js";import{d as B,s as te,e as Xe,f as en}from"./isEqual-CEzNvU10.js";import{b as nn}from"./_baseFindIndex-D7XfJLKM.js";import"./index-BxA6fqpP.js";import"./browser-Cn8NPDiP.js";import"./use-form-item-2rjGneQ2.js";import"./use-form-common-props-8BeN1KEV.js";import"./index-DB8PneVq.js";import"./error-QYNqqIfj.js";import"./index-C1hDSyrQ.js";import"./index-B9CToU5l.js";import"./index-nUVI2Rbl.js";import"./index-DUSGJ23-.js";function an(){}function tn(a){return a!==a}function sn(a,s,t){for(var c=t-1,d=a.length;++c<d;)if(a[c]===s)return c;return-1}function on(a,s,t){return s===s?sn(a,s,t):nn(a,tn,t)}function rn(a,s){var t=a==null?0:a.length;return!!t&&on(a,s,0)>-1}var ln=1/0,cn=B&&1/te(new B([,-0]))[1]==ln?function(a){return new B(a)}:an,un=200;function pn(a,s,t){var c=-1,d=rn,b=a.length,o=!0,g=[],m=g;if(b>=un){var _=cn(a);if(_)return te(_);o=!1,d=en,m=new Xe}else m=g;e:for(;++c<b;){var k=a[c],T=k;if(k=k!==0?k:0,o&&T===T){for(var E=m.length;E--;)if(m[E]===T)continue e;g.push(k)}else d(m,T,t)||(m!==g&&m.push(T),g.push(k))}return g}var K=Qe(function(a){return pn(Je(a,1,We,!0))});const dn=qe(L(N({},Fe),{parsedValue:{type:$e(Array)}})),mn=ne({__name:"panel-time-range",props:dn,emits:["pick","select-range","set-picker-option"],setup(a,{emit:s}){const t=a,c=(e,n)=>{const i=[];for(let l=e;l<=n;l++)i.push(l);return i},{t:d,lang:b}=Ye(),o=X("time"),g=X("picker"),m=we("EP_PICKER_BASE"),{arrowControl:_,disabledHours:k,disabledMinutes:T,disabledSeconds:E,defaultValue:V}=m.props,se=S(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",_),A.value?"has-seconds":""]),oe=S(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",_),A.value?"has-seconds":""]),D=S(()=>t.parsedValue[0]),P=S(()=>t.parsedValue[1]),re=ye(t),ie=()=>{s("pick",re.value,!1)},A=S(()=>t.format.includes("ss")),j=S(()=>t.format.includes("A")?"A":t.format.includes("a")?"a":""),le=(e=!1)=>{s("pick",[D.value,P.value],e)},ce=e=>{q(e.millisecond(0),P.value)},ue=e=>{q(D.value,e.millisecond(0))},pe=e=>{const n=e.map(l=>R(l).locale(b.value)),i=G(n);return n[0].isSame(i[0])&&n[1].isSame(i[1])},q=(e,n)=>{t.visible&&s("pick",[e,n],!0)},de=S(()=>D.value>P.value),w=ae([0,2]),me=(e,n)=>{s("select-range",e,n,"min"),w.value=[e,n]},$=S(()=>A.value?11:8),fe=(e,n)=>{s("select-range",e,n,"max");const i=r($);w.value=[e+i,n+i]},be=e=>{const n=A.value?[0,3,6,11,14,17]:[0,3,8,11],i=["hours","minutes"].concat(A.value?["seconds"]:[]),u=(n.indexOf(w.value[0])+e+n.length)%n.length,p=n.length/2;u<p?y.start_emitSelectRange(i[u]):y.end_emitSelectRange(i[u-p])},ge=e=>{const n=e.code,{left:i,right:l,up:u,down:p}=ze;if([i,l].includes(n)){be(n===i?-1:1),e.preventDefault();return}if([u,p].includes(n)){const v=n===u?-1:1,C=w.value[0]<$.value?"start":"end";y[`${C}_scrollDown`](v),e.preventDefault();return}},M=(e,n)=>{const i=k?k(e):[],l=e==="start",p=(n||(l?P.value:D.value)).hour(),v=l?c(p+1,23):c(0,p-1);return K(i,v)},I=(e,n,i)=>{const l=T?T(e,n):[],u=n==="start",p=i||(u?P.value:D.value),v=p.hour();if(e!==v)return l;const C=p.minute(),U=u?c(C+1,59):c(0,C-1);return K(l,U)},F=(e,n,i,l)=>{const u=E?E(e,n,i):[],p=i==="start",v=l||(p?P.value:D.value),C=v.hour(),U=v.minute();if(e!==C||n!==U)return u;const Z=v.second(),De=p?c(Z+1,59):c(0,Z-1);return K(u,De)},G=([e,n])=>[Y(e,"start",!0,n),Y(n,"end",!1,e)],{getAvailableHours:ve,getAvailableMinutes:he,getAvailableSeconds:ke}=Ne(M,I,F),{timePickerOptions:y,getAvailableTime:Y,onSetOption:z}=Ue({getAvailableHours:ve,getAvailableMinutes:he,getAvailableSeconds:ke}),Te=e=>e?H(e)?e.map(n=>R(n,t.format).locale(b.value)):R(e,t.format).locale(b.value):null,Se=e=>e?H(e)?e.map(n=>n.format(t.format)):e.format(t.format):null,_e=()=>{if(H(V))return V.map(n=>R(n).locale(b.value));const e=R(V).locale(b.value);return[e,e.add(60,"m")]};return s("set-picker-option",["formatToString",Se]),s("set-picker-option",["parseUserInput",Te]),s("set-picker-option",["isValidValue",pe]),s("set-picker-option",["handleKeydownInput",ge]),s("set-picker-option",["getDefaultValue",_e]),s("set-picker-option",["getRangeAvailableTime",G]),(e,n)=>e.actualVisible?(Ve(),Oe("div",{key:0,class:f([r(o).b("range-picker"),r(g).b("panel")])},[h("div",{class:f(r(o).be("range-picker","content"))},[h("div",{class:f(r(o).be("range-picker","cell"))},[h("div",{class:f(r(o).be("range-picker","header"))},O(r(d)("el.datepicker.startTime")),3),h("div",{class:f(r(se))},[x(W,{ref:"minSpinner",role:"start","show-seconds":r(A),"am-pm-mode":r(j),"arrow-control":r(_),"spinner-date":r(D),"disabled-hours":M,"disabled-minutes":I,"disabled-seconds":F,onChange:ce,onSetOption:r(z),onSelectRange:me},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),h("div",{class:f(r(o).be("range-picker","cell"))},[h("div",{class:f(r(o).be("range-picker","header"))},O(r(d)("el.datepicker.endTime")),3),h("div",{class:f(r(oe))},[x(W,{ref:"maxSpinner",role:"end","show-seconds":r(A),"am-pm-mode":r(j),"arrow-control":r(_),"spinner-date":r(P),"disabled-hours":M,"disabled-minutes":I,"disabled-seconds":F,onChange:ue,onSetOption:r(z),onSelectRange:fe},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),h("div",{class:f(r(o).be("panel","footer"))},[h("button",{type:"button",class:f([r(o).be("panel","btn"),"cancel"]),onClick:i=>ie()},O(r(d)("el.datepicker.cancel")),11,["onClick"]),h("button",{type:"button",class:f([r(o).be("panel","btn"),"confirm"]),disabled:r(de),onClick:i=>le()},O(r(d)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):xe("v-if",!0)}});var fn=Ge(mn,[["__file","panel-time-range.vue"]]);R.extend(je);var bn=ne({name:"ElTimePicker",install:null,props:L(N({},Le),{isRange:{type:Boolean,default:!1}}),emits:[ee],setup(a,s){const t=ae(),[c,d]=a.isRange?["timerange",fn]:["time",He],b=o=>s.emit(ee,o);return Me("ElPopperOptions",a.popperOptions),s.expose({focus:()=>{var o;(o=t.value)==null||o.focus()},blur:()=>{var o;(o=t.value)==null||o.blur()},handleOpen:()=>{var o;(o=t.value)==null||o.handleOpen()},handleClose:()=>{var o;(o=t.value)==null||o.handleClose()}}),()=>{var o;const g=(o=a.format)!=null?o:Be;return x(Ke,Ie(a,{ref:t,type:c,format:g,"onUpdate:modelValue":b}),{default:m=>x(d,m,null)})}}});const In=Ze(bn);export{Ke as CommonPicker,Un as DEFAULT_FORMATS_DATE,Nn as DEFAULT_FORMATS_DATEPICKER,Be as DEFAULT_FORMATS_TIME,In as ElTimePicker,He as TimePickPanel,Ln as buildTimeList,Hn as dateEquals,Bn as dayOrDaysToDate,In as default,Kn as extractDateFormat,jn as extractTimeFormat,qn as formatter,$n as makeList,Gn as parseDate,Yn as rangeArr,Le as timePickerDefaultProps,zn as timePickerRangeTriggerProps,Zn as timePickerRngeTriggerProps,Jn as timeUnits,Qn as valueEquals};
