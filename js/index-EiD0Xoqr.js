var le=Object.defineProperty,oe=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var P=Math.pow,V=(i,l,a)=>l in i?le(i,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[l]=a,A=(i,l)=>{for(var a in l||(l={}))re.call(l,a)&&V(i,a,l[a]);if(U)for(var a of U(l))ne.call(l,a)&&V(i,a,l[a]);return i},q=(i,l)=>oe(i,se(l));import{h as j,k as $,l as Q,n as O,A as ie,ao as ue,aa as ce,a as ve,o as L,j as fe,N as F,a7 as me,w as de}from"./bootstrap-ZZuGj1Da.js";import{B as pe,r as be,G as k}from"./index-BmlKBGRE.js";import{t as he}from"./error-VqqEo-PV.js";import{d as R,y as Z,r as c,c as C,ac as ye,A as G,v as x,f as N,E as ee,N as we,h as D,n as H,u as w,l as W,e as te,F as I,P as Se,w as X,ab as ge,L as ze,ad as _e,o as Ee,m as Y,M as Te,g as ke,k as Ce,D as Le,p as Ne}from"../jse/index-index-qrqPLwl3.js";import{u as He}from"./index-Xl1Rcgwh.js";const K=Symbol("scrollbarContextKey"),Pe=j({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Re="Thumb",Be=R({__name:"thumb",props:Pe,setup(i){const l=i,a=Z(K),s=Q("scrollbar");a||he(Re,"can not inject scrollbar context");const u=c(),v=c(),d=c({}),p=c(!1);let m=!1,b=!1,o=ve?document.onselectstart:null;const t=C(()=>pe[l.vertical?"vertical":"horizontal"]),r=C(()=>be({size:l.size,move:l.move,bar:t.value})),f=C(()=>P(u.value[t.value.offset],2)/a.wrapElement[t.value.scrollSize]/l.ratio/v.value[t.value.offset]),h=n=>{var _;if(n.stopPropagation(),n.ctrlKey||[1,2].includes(n.button))return;(_=window.getSelection())==null||_.removeAllRanges(),g(n);const T=n.currentTarget;T&&(d.value[t.value.axis]=T[t.value.offset]-(n[t.value.client]-T.getBoundingClientRect()[t.value.direction]))},E=n=>{if(!v.value||!u.value||!a.wrapElement)return;const _=Math.abs(n.target.getBoundingClientRect()[t.value.direction]-n[t.value.client]),T=v.value[t.value.offset]/2,M=(_-T)*100*f.value/u.value[t.value.offset];a.wrapElement[t.value.scroll]=M*a.wrapElement[t.value.scrollSize]/100},g=n=>{n.stopImmediatePropagation(),m=!0,document.addEventListener("mousemove",S),document.addEventListener("mouseup",y),o=document.onselectstart,document.onselectstart=()=>!1},S=n=>{if(!u.value||!v.value||m===!1)return;const _=d.value[t.value.axis];if(!_)return;const T=(u.value.getBoundingClientRect()[t.value.direction]-n[t.value.client])*-1,M=v.value[t.value.offset]-_,ae=(T-M)*100*f.value/u.value[t.value.offset];a.wrapElement[t.value.scroll]=ae*a.wrapElement[t.value.scrollSize]/100},y=()=>{m=!1,d.value[t.value.axis]=0,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",y),e(),b&&(p.value=!1)},B=()=>{b=!1,p.value=!!l.size},z=()=>{b=!0,p.value=m};ye(()=>{e(),document.removeEventListener("mouseup",y)});const e=()=>{document.onselectstart!==o&&(document.onselectstart=o)};return O(G(a,"scrollbarElement"),"mousemove",B),O(G(a,"scrollbarElement"),"mouseleave",z),(n,_)=>(N(),x(ce,{name:w(s).b("fade"),persisted:""},{default:ee(()=>[we(D("div",{ref_key:"instance",ref:u,class:H([w(s).e("bar"),w(s).is(w(t).key)]),onMousedown:E,onClick:ie(()=>{},["stop"])},[D("div",{ref_key:"thumb",ref:v,class:H(w(s).e("thumb")),style:W(w(r)),onMousedown:h},null,38)],42,["onClick"]),[[ue,n.always||p.value]])]),_:1},8,["name"]))}});var J=$(Be,[["__file","thumb.vue"]]);const Me=j({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Ae=R({__name:"bar",props:Me,setup(i,{expose:l}){const a=i,s=Z(K),u=c(0),v=c(0),d=c(""),p=c(""),m=c(1),b=c(1);return l({handleScroll:r=>{if(r){const f=r.offsetHeight-k,h=r.offsetWidth-k;v.value=r.scrollTop*100/f*m.value,u.value=r.scrollLeft*100/h*b.value}},update:()=>{const r=s==null?void 0:s.wrapElement;if(!r)return;const f=r.offsetHeight-k,h=r.offsetWidth-k,E=P(f,2)/r.scrollHeight,g=P(h,2)/r.scrollWidth,S=Math.max(E,a.minSize),y=Math.max(g,a.minSize);m.value=E/(f-E)/(S/(f-S)),b.value=g/(h-g)/(y/(h-y)),p.value=S+k<f?`${S}px`:"",d.value=y+k<h?`${y}px`:""}}),(r,f)=>(N(),te(Se,null,[I(J,{move:u.value,ratio:b.value,size:d.value,always:r.always},null,8,["move","ratio","size","always"]),I(J,{move:v.value,ratio:m.value,size:p.value,vertical:"",always:r.always},null,8,["move","ratio","size","always"])],64))}});var Oe=$(Ae,[["__file","bar.vue"]]);const xe=j(A({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:fe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String},He(["ariaLabel","ariaOrientation"]))),De={scroll:({scrollTop:i,scrollLeft:l})=>[i,l].every(L)},We="ElScrollbar",je=R({name:We}),$e=R(q(A({},je),{props:xe,emits:De,setup(i,{expose:l,emit:a}){const s=i,u=Q("scrollbar");let v,d,p=0,m=0;const b=c(),o=c(),t=c(),r=c(),f=C(()=>{const e={};return s.height&&(e.height=F(s.height)),s.maxHeight&&(e.maxHeight=F(s.maxHeight)),[s.wrapStyle,e]}),h=C(()=>[s.wrapClass,u.e("wrap"),{[u.em("wrap","hidden-default")]:!s.native}]),E=C(()=>[u.e("view"),s.viewClass]),g=()=>{var e;o.value&&((e=r.value)==null||e.handleScroll(o.value),p=o.value.scrollTop,m=o.value.scrollLeft,a("scroll",{scrollTop:o.value.scrollTop,scrollLeft:o.value.scrollLeft}))};function S(e,n){Ne(e)?o.value.scrollTo(e):L(e)&&L(n)&&o.value.scrollTo(e,n)}const y=e=>{L(e)&&(o.value.scrollTop=e)},B=e=>{L(e)&&(o.value.scrollLeft=e)},z=()=>{var e;(e=r.value)==null||e.update()};return X(()=>s.noresize,e=>{e?(v==null||v(),d==null||d()):({stop:v}=me(t,z),d=O("resize",z))},{immediate:!0}),X(()=>[s.maxHeight,s.height],()=>{s.native||Y(()=>{var e;z(),o.value&&((e=r.value)==null||e.handleScroll(o.value))})}),ge(K,ze({scrollbarElement:b,wrapElement:o})),_e(()=>{o.value&&(o.value.scrollTop=p,o.value.scrollLeft=m)}),Ee(()=>{s.native||Y(()=>{z()})}),Te(()=>z()),l({wrapRef:o,update:z,scrollTo:S,setScrollTop:y,setScrollLeft:B,handleScroll:g}),(e,n)=>(N(),te("div",{ref_key:"scrollbarRef",ref:b,class:H(w(u).b())},[D("div",{ref_key:"wrapRef",ref:o,class:H(w(h)),style:W(w(f)),tabindex:e.tabindex,onScroll:g},[(N(),x(Le(e.tag),{id:e.id,ref_key:"resizeRef",ref:t,class:H(w(E)),style:W(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:ee(()=>[Ce(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),e.native?ke("v-if",!0):(N(),x(Oe,{key:0,ref_key:"barRef",ref:r,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}}));var Ke=$($e,[["__file","scrollbar.vue"]]);const Xe=de(Ke);export{Xe as E,De as s};
